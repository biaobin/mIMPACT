function getControl(contrl)
%biaobin, 2018-10-25, get the section of control in ImpactZ.in

% calculations
f0      =  const.c_mks/(2*pi);                       % Evolution frequency,[Hz]
q_m     = -1/(const.mev_impact *1e6);                % q/m for electron
W0      =  contrl.E0 - const.mev_impact*1E6;          % Kinetic energy from total energy,[eV]
I_avef0 = contrl.Q *f0;

% contrl flags
switch contrl.scflag
    

% write into ImpactZ.in
% disp('Warning: Initial ImpactZ.in will be deleted.')
% disp(' ')
!rm -f ImpactZ.in
fid = fopen('ImpactZ.in','w');
control_file = [ ...
'%d %d \n' ...                   %1. processor layout
'6 %d 1 0 1 \n' ...              %2. particle number
'%d %d %d 1 1.0 1.0 0.1 \n' ...  %3. grid setting
'%d 0 0 1 \n' ...                %4. distribution type
'%d \n' ...                      %5. particle list for each charge state
'%22.15e \n' ...                 %6. current for each charge state [A]
'%22.15e \n' ...                 %7. q/m for electron
'%22.15e %22.15e %22.15e 1 1 0 0 \n' ...    %8. sigx ...
'%22.15e %22.15e %22.15e 1 1 0 0 \n' ...    %9. sigy ... 
'%22.15e %22.15e %22.15e 1 1 0 0 \n' ...    %10. sigz ...
'%22.15e %22.15e %22.15e -1.0 %22.15e 0.0 \n' %11. current
];

in_va = [contrl.proc ...            %1.
         contrl.par_num ...         %2.
         contrl.grid ...            %3. input valuable
         contrl.dis_label ...       %4
         contrl.par_num ...         %5
         I_avef0 ...            %6 ???
         q_m  ...               %7
         contrl.sigx contrl.sigpx    contrl.sigxpx   ...         %8
         contrl.sigy contrl.sigpy    contrl.sigypy   ...         %9
         contrl.sigz contrl.sig_dgam contrl.sigzdgam ...         %10
         I_avef0 W0 const.mev_impact*1E6 f0 ...      %11       
         ];

fprintf(fid,control_file,in_va);
fclose(fid);

end
